<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Settings</title>
    <meta charset='UTF-8' />
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <link href="../stylesheets/site.css?1339361148" media="screen" rel="stylesheet" type="text/css" />
    <script src='http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.2/jquery.min.js' type='text/javascript'></script>
    <script src="../javascripts/site.js?1339361148" type="text/javascript"></script>
    
  </head>
  <body>
    <div id='top'>
      <a id="logo" href="../">Mina</a>
    </div>
    <div id='area'>
      <div id='content'>
        <section id='search'>
          <input placeholder='Search...' type='text' />
          <ul class='results'></ul>
        </section>
        <div class='c'>
          <a class='github' href='https://github.com/nadarei/mina'>
            <img alt='Fork me on GitHub' src='https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png' />
          </a>
          <div id='crumbs'>
            <a href="../">Mina</a>
            <strong>Settings</strong>
          </div>
          <hgroup>
            <h1>Settings</h1>
          </hgroup>
          <div class='content'>
            <p>Settings are managed using the <code>set</code> and <code>settings</code> methods. This convention is inspired by Sinatra and Vlad.</p>

<pre><code># config/deploy.rb
set :version, &quot;v2.0.5&quot;

settings.version    #=&gt; &quot;v2.0.5&quot;
settings.version?   #=&gt; true</code></pre>
<br clear='both' />
<p>You can also retrieve settings without the <code>settings.</code> prefix.</p>

<pre><code># config/deploy.rb
set :version, &quot;v2.0.5&quot;

version    #=&gt; &quot;v2.0.5&quot;
version?   #=&gt; true</code></pre>

<h3 id='dynamic_values'>Dynamic values</h3>

<p>You can also give settings using a lambda. When the setting is retrieved, it will be evaluated.</p>

<pre><code># config/deploy.rb
set :tag, lambda { &quot;release/#{version}&quot; }
set :version, &quot;v2.0.5&quot;

tag    #=&gt; &quot;release/v2.0.5&quot;</code></pre>

<h3 id='inside_and_outside_tasks'>Inside and outside tasks</h3>

<p>All of these are accessible inside and outside tasks.</p>

<pre><code># config/deploy.rb
set :admin_email, &quot;johnsmith@gmail.com&quot;

task :email do
  set :message, &quot;Deploy is done&quot;

  system &quot;echo #{message} | mail #{admin_email}&quot;
end</code></pre>

<h3 id='validations'>Validations</h3>

<p>If you would like an error to be thrown if a setting is not present, add a bang at the end.</p>

<pre><code># config/deploy.rb
task :restart do
  queue &quot;#{settings.nginx_path!}/sbin/nginx restart&quot;
end

# $ mina restart
# Error: You must set the :nginx_path setting</code></pre>
            <section class='footer'>
              <div class='left'>
                <strong>
                  <a href="../">Mina
                  </a>
                  <span class='arrow'>&rsaquo;</span>
                  Settings
                </strong>
              </div>
            </section>
          </div>
        </div>
        <nav id='nav'>
          <div class='logo'>
            <a href="../"><img width="150" src="../images/logo.png?1339361148" /></a>
          </div>
          <nav class='parents'>
            <ul>
              <li>
                <a class="more" href="../">Mina</a>
              </li>
              <li>
                <a class="active more" href="./">Settings</a>
              </li>
            </ul>
          </nav>
          <nav>
            <h4>Deploy settings</h4>
            <ul>
              <li>
                <a class="" href="current_path.html">current_path</a>
              </li>
              <li>
                <a class="" href="deploy_to.html">deploy_to</a>
              </li>
              <li>
                <a class="" href="lock_file.html">lock_file</a>
              </li>
              <li>
                <a class="" href="releases_path.html">releases_path</a>
              </li>
              <li>
                <a class="" href="shared_path.html">shared_path</a>
              </li>
            </ul>
          </nav>
          <nav>
            <h4>SSH settings</h4>
            <ul>
              <li>
                <a class="" href="domain.html">domain</a>
              </li>
              <li>
                <a class="" href="identity_file.html">identity_file</a>
              </li>
              <li>
                <a class="" href="user.html">user</a>
              </li>
            </ul>
          </nav>
          <nav>
            <h4>Git settings</h4>
            <ul>
              <li>
                <a class="" href="repository.html">repository</a>
              </li>
              <li>
                <a class="" href="revision.html">revision</a>
              </li>
            </ul>
          </nav>
          <nav>
            <h4>General settings</h4>
            <ul>
              <li>
                <a class="" href="term_mode.html">term_mode</a>
              </li>
            </ul>
          </nav>
        </nav>
      </div>
    </div>
  </body>
</html>
